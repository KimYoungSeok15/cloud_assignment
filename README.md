# 신한투자증권 인턴쉽 과제
### 주제 : 
#### 대형 IPO시 트래픽처리를 위한 클라우드 기반 아키텍처 설계

### 산출물 :
<img src="./신한투자증권 인턴과제 아키텍처.svg">


### 설명 :
#### 
1. 대형 트래픽에 대응하기 위해 1) 메인 데이터센터, 2) DR 데이터센터, 3) 클라우드 총 3개의 데이터 센터를 운영합니다. (Hybrid Cloud 환경)
2. 데이터센터 간 로드벨런싱은 GSLB를 통해 수행합니다.
3. 정적 파일 요청은 CDN서버로 보냅니다.
4. 클라우드 사용 비용을 고려하여, 메인 DC와 DR DC 모두의 부하량이 설정한 비율(이하 50%로 가정)보다 적다면 메인 DC와 DR DC 중 부하가 적은 DC에게 요청을 보냅니다. (조건부 Least Connection)
5. 메인 DC, DR DC 모두 50% 의 부하를 초과한다면, 클라우드로 트래픽을 보냅니다.
6. 클라우드 환경은 다음과 같은 특징을 가집니다. 
   * 비용을 최소화하기 위해, 하나의 VPC를 사용하여 VPC간 통신을 배제하였습니다.
   * public subnet에서는 클라우드 환경 전체의 부하를 모니터링을 수행하여 GSLB에게 전송합니다.
   * private subnet에서는 채널계를 담은 EC2를 Auto Scale Group이 모니터링하여, EC2들의 전체적인 부하가 증가하면 채널계를 담은 새로운 EC2를 증설합니다.
7. 각 DC들이 클라이언트의 요청을 처리하고 나면, 데이터 동기화를 위해 각 DC간의 통신이 필요합니다. 이를 NHN Cloud의 Direct Connection 서비스를 이용하여 수행합니다. 이를 통해 안정성과 비용절감을 누릴 수 있습니다.